<!DOCTYPE html>
<html>
<head>
	<title>7.4.1</title>
	<script type="text/javascript" src="../scripts/assert.js"></script>
	<link rel="stylesheet" type="text/css" href="../styles/assert.css">
</head>
<body>
    <div id="opacity"
        style="opacity:0.5;filter:alpha(opacity=50);">
    </div>
    <script type="text/javascript">
    	function getOpacity (elem) {
    		var filter = elem.style.filter;
            console.log (typeof filter);
            return filter ? 
              filter.indexOf ('opacity=' >= 0) ? 
                (parseFloat (filter.match (/opacity=([^])\)/)[1]/100) + "") :  
                "" : 
              elem.style.opacity;
    	}
        
        window.onload = function () {
          assert (getOpacity (document.getElementById ('opacity')) == 0.5, 'opacity == 0.5');   
        }

    </script>

</body>
</html>